(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,n,t){},48:function(e,n,t){"use strict";t.r(n);var r,o,c,a,i,s,u,l,d,b,j,f,p,h,x,O,m,g,w,v,k,C,y,S,N,P,z,F,T,E,I,B,D,A,L,_,U,H,V,R=t(0),X=t.n(R),Y=t(23),J=t.n(Y),M=(t(43),t(6)),q=t.n(M),W=t(7),G=t(3),K=t(4),Q=t(5),Z=t(8),$=t(2),ee=Object(R.createContext)(null),ne={type:"dark",fontColor:"#fafafa",bgColor:"#212121",uiColor:"#424242",shadow:"0 0 3px #616161"},te={type:"light",fontColor:"#424242",bgColor:"#fafafa",uiColor:"#eeeeee",shadow:"0 0 10px -5px #212121"},re=function(e){var n=e.children,t=Object(R.useState)(te),r=Object(G.a)(t,2),o=r[0],c=r[1],a=Object(R.useState)(!1),i=Object(G.a)(a,2),s=i[0],u=i[1];return Object(R.useEffect)((function(){return document.body.style.backgroundColor=o.bgColor}),[o]),Object(R.useEffect)((function(){return c(s?ne:te)}),[s]),Object($.jsx)(ee.Provider,{value:{theme:o,setIsDarkTheme:u},children:n})},oe=Q.a.div(r||(r=Object(K.a)(["\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    width: 20rem;\n    aspect-ratio: 1/1;\n    border-radius: 50%;\n\n    * {\n        border-radius: 50%;\n        background-color: ",";\n        border: 0.5rem solid transparent;\n        animation: rotate infinite linear;\n        animation-duration: 8s;\n        margin: 0;\n        padding: 0;\n        width: 100%;\n        height: 100%;\n        box-sizing:border-box;\n    }\n\n    .inlineBorders {\n        border-inline-color: ",";\n    }\n\n    .blockBorders {\n        border-block-color: ",";\n    }\n\n    @keyframes rotate {\n        from { transform: rotate(0); }\n        to { transform: rotate(360deg); }\n    }   \n"])),(function(e){return e.theme.bgColor}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.fontColor})),ce=function(){var e=Object(R.useContext)(ee).theme;return Object($.jsx)(oe,{theme:e,children:Object($.jsx)("div",{className:"blockBorders",children:Object($.jsx)("div",{className:"inlineBorders",children:Object($.jsx)("div",{className:"blockBorders",children:Object($.jsx)("div",{className:"inlineBorders",children:Object($.jsx)("div",{className:"blockBorders",children:Object($.jsx)("div",{className:"inlineBorders",children:Object($.jsx)("div",{className:"blockBorders",children:Object($.jsx)("div",{className:"inlineBorders",children:Object($.jsx)("div",{className:"blockBorders",children:Object($.jsx)("div",{className:"inlineBorders",children:Object($.jsx)("div",{className:"blockBorders",children:Object($.jsx)("div",{className:"inlineBorders",children:Object($.jsx)("div",{className:"blockBorders",children:Object($.jsx)("div",{className:"inlineBorders",children:Object($.jsx)("div",{className:"blockBorders",children:Object($.jsx)("div",{className:"inlineBorders",children:Object($.jsx)("div",{className:"blockBorders",children:Object($.jsx)("div",{className:"inlineBorders",children:Object($.jsx)("div",{className:"blockBorders",children:Object($.jsx)("div",{className:"inlineBorders"})})})})})})})})})})})})})})})})})})})})})},ae=t(19),ie=function(){var e=window.innerWidth;return e>1400?"18px":e>1200?"17px":"16px"},se=Q.a.div(o||(o=Object(K.a)(["\n    position: absolute;\n    bottom: 20px;\n    right: 20px;\n    width: 300px;\n    aspect-ratio: 20/4;\n    background-color: #1e88e5 ;\n    z-index: 100;\n    border-radius: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n    color: #fafafa;\n    box-shadow: ",";\n    gap: 5px;\n    font-size: ",";\n"])),(function(e){return e.theme.shadow}),ie()),ue=function(e){var n=e.content,t=e.setContent,r=Object(R.useContext)(ee).theme,o=Object(R.useState)(!1),c=Object(G.a)(o,2),a=c[0],i=c[1];Object(R.useEffect)((function(){return document.addEventListener("click",(function(){return t("")})),function(){return document.removeEventListener("click",(function(){return t("")}))}})),Object(R.useEffect)((function(){return i(!!n)}),[n]);var s=Object(ae.useTransition)(a,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});return Object($.jsx)($.Fragment,{children:s((function(e,t){return t&&Object($.jsx)(ae.animated.div,{style:e,children:Object($.jsxs)(se,{theme:r,children:[Object($.jsx)("p",{children:n})," ",Object($.jsx)(Z.a,{})]})})}))})},le="http://localhost:5000/api",de=function(){var e=Object(W.a)(q.a.mark((function e(n,t){var r,o,c,a,i=arguments;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>2&&void 0!==i[2]?i[2]:"POST",e.prev=1,!t){e.next=8;break}return e.next=5,fetch(le+n,{method:r,credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},cors:"same-origin"});case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,fetch(le+n,{credentials:"include",cors:"same-origin"});case 10:o=e.sent;case 11:return c=o.ok,e.next=14,o.json();case 14:if(a=e.sent,!o.ok){e.next=19;break}return e.abrupt("return",{content:a,ok:c});case 19:return e.abrupt("return",{error:a,ok:c});case 20:e.next=25;break;case 22:return e.prev=22,e.t0=e.catch(1),e.abrupt("return",{ok:!1,error:"Can't connect to the server"});case 25:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(n,t){return e.apply(this,arguments)}}(),be=Object(R.createContext)(null),je=function(e){var n=e.children,t=Object(R.useState)(null),r=Object(G.a)(t,2),o=r[0],c=r[1],a=Object(R.useState)(!0),i=Object(G.a)(a,2),s=i[0],u=i[1],l=Object(R.useContext)(ee).setIsDarkTheme,d=Object(R.useState)(""),b=Object(G.a)(d,2),j=b[0],f=b[1];return Object(R.useEffect)((function(){Object(W.a)(q.a.mark((function e(){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("/auth/verify");case 2:(n=e.sent).ok?(c(n.content),u(!1)):f(n.error);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(R.useEffect)((function(){return o&&l("light"!==o.theme)}),[o]),Object($.jsxs)(be.Provider,{value:{user:o,setUser:c},children:[Object($.jsx)(ue,{content:j,setContent:f}),s?Object($.jsx)(ce,{}):Object($.jsx)($.Fragment,{children:n})]})},fe=Q.a.div(c||(c=Object(K.a)(["\n    border-radius: 10px;\n    padding-block: calc(0.1 * ",");\n    padding-inline: calc(0.5 * ",");\n    max-height: 150px;\n    white-space: pre;\n    line-height: 1.7rem;\n    max-height: 8rem;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 4;\n    display: inline-block;\n    overflow: hidden !important;\n    text-overflow: ellipsis;\n    font-weight: 300;\n    color: inherit;\n    border: 5px solid ",";\n    background-color: ",";\n    box-shadow: ",";\n\n    .date {\n        font-size: calc(0.8 * ",");\n        margin: 0;\n        height: 10px;\n    } \n\n    .content {\n        font-size: calc(0.9* ",");\n        margin-top: ",";\n    }\n"])),ie(),ie(),(function(e){return e.theme.uiColor}),(function(e){return e.theme.uiColor}),(function(e){var n=e.theme;return"light"===n.type&&n.shadow}),ie,ie(),ie()),pe=Q.a.div(a||(a=Object(K.a)(["\n    height: calc(0.8 *  ",");\n    width: 70px;\n    display: inline-block;\n    border-radius: 10px;\n    position: relative;\n    overflow: hidden;\n    background-color: ",";\n"])),ie(),(function(e){return e.theme.bgColor})),he=Q.a.div(i||(i=Object(K.a)(["\n    height: calc(4 *  ",");\n    width: 100%;\n    border-radius: 10px;\n    margin-top: 5px;\n    position: relative;\n    overflow: hidden;\n    background-color: ",";\n"])),ie(),(function(e){return e.theme.bgColor})),xe=Q.a.div(s||(s=Object(K.a)(["\n    position: absolute;\n    height: 10%;\n    left: -10%;\n    top: 0;\n    width: 100%;\n    opacity: 0.5;\n    filter: blur(30px);\n    transform: rotate(-10deg);\n    animation: loadAnimation 1s linear infinite;\n    background-color: ",";\n\n    @keyframes loadAnimation {\n        from {\n            top: -100%;\n        }\n        to {\n           top: 200%;\n        }\n    }\n"])),(function(e){return e.theme.fontColor})),Oe=function(e){var n=e.setNoteToFocus,t=e.data,r=Object(R.useContext)(ee).theme,o=t.updatedAt,c=t.content,a=Object(R.useState)(!0),i=Object(G.a)(a,2),s=i[0],u=i[1];Object(R.useEffect)((function(){"loading"!==t&&u(!1)}),[]);var l=new Date(o).toLocaleDateString();return Object($.jsx)(fe,{theme:r,className:s?"":"clickable",onClick:function(){return!s&&n(t)},children:s?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(pe,{theme:r,children:Object($.jsx)(xe,{theme:r})}),Object($.jsx)(he,{theme:r,children:Object($.jsx)(xe,{theme:r})})]}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"date",children:l}),Object($.jsx)("div",{className:"content",children:c})]})})},me=function(e){var n=e.children,t=e.setSomething,r=e.valueToSet,o=void 0!==r&&r,c=Object(R.useRef)(null),a=function(e){c.current&&(c.current.contains(e.target)||t(o))};return Object(R.useEffect)((function(){return document.addEventListener("click",a),function(){return document.removeEventListener("click",a)}}),[o]),Object($.jsx)("span",{ref:c,children:n})},ge=t(16),we=t(27),ve=t(15),ke=function(e){return document.querySelector(".error.".concat(e)).classList.add("hide")},Ce=function(e,n){var t=document.querySelector(".error.".concat(e));t.textContent=n,t.classList.remove("hide")},ye=function(e){var n=!1;for(var t in e){e[t]?ke(t):(Ce(t,"Oops, you have to fill this field"),n=!0)}return n},Se=Q.a.div(u||(u=Object(K.a)(["\n    display: flex;\n    flex-direction: row; \n    align-items: center;    \n    gap: 5px;\n"]))),Ne=Q.a.p(l||(l=Object(K.a)(["\n    background-color: ",";\n    color: ",";\n    padding: 3px 10px;\n    border-radius: 100px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: 5px;\n    cursor: pointer;\n    font-size: 15px;\n"])),(function(e){return e.theme.fontColor}),(function(e){return e.theme.bgColor})),Pe=Q.a.input(d||(d=Object(K.a)(["\n    background-color: transparent;\n    border: none;\n    outline: none;\n    font-size: 16px;\n    transition: 0.3s;\n    color: ",";\n"])),(function(e){return e.theme.fontColor})),ze=function(e){var n=e.note,t=e.setNotes,r=Object(R.useContext)(ee).theme,o=Object(R.useState)(""),c=Object(G.a)(o,2),a=c[0],i=c[1],s=Object(R.useState)(n.recipients),u=Object(G.a)(s,2),l=u[0],d=u[1],b=n._id,j=n.content,f=function(){var e=Object(W.a)(q.a.mark((function e(r){var o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,de("/note/share",{id:b,content:j,recipient:a},"PATCH");case 3:(o=e.sent).ok?(d(o.content),t((function(e){return e.map((function(e){return e._id===b?n:e}))})),ke("res")):Ce("res",o.error),i("");case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=Object(W.a)(q.a.mark((function e(n){var r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("/note/unlink",{recipientToUnlink:n,id:b,content:j},"PATCH");case 2:(r=e.sent).ok?(d(r.content),t((function(e){return e.map((function(e){return e._id,e}))})),ke("res")):Ce("res",r.error);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object($.jsxs)(Se,{theme:r,children:[Object($.jsx)("p",{children:"Users with access: "}),l.map((function(e){return Object($.jsxs)(Ne,{className:"clickable",title:"unlink ".concat(e),theme:r,onClick:function(n){return p(e)},children:[e," ",Object($.jsx)(Z.m,{size:"15"})]},e)})),Object($.jsxs)("form",{onSubmit:function(e){return f(e)},children:[Object($.jsx)(Pe,{value:a,onChange:function(e){return i(e.target.value)},theme:r,type:"text",placeholder:"share to..."}),Object($.jsx)("div",{className:"error res"})]})]})},Fe=["handleClick","Icon","title"],Te=function(e){var n=e.handleClick,t=e.Icon,r=e.title,o=Object(we.a)(e,Fe);return Object($.jsx)("div",{title:r,children:Object($.jsx)(t,Object(ge.a)({onClick:n,size:"30px",stroke:"1",className:"clickable"},o))})},Ee=function(e){var n=e.note,t=e.content,r=e.setSharedNotes,o=e.setNoteToFocus,c=e.setAlertContent,a=e.setNotes,i=e.isSaved,s=e.setIsSaved,u=e.isEditing,l=e.setIsEditing,d=Object(R.useState)(!1),b=Object(G.a)(d,2),j=b[0],f=b[1],p=Object(R.useContext)(be).user,h=Object(R.useState)(n.author!==p.username),x=Object(G.a)(h,1)[0],O=n.updatedAt?new Date(n.updatedAt).toLocaleDateString():(new Date).toLocaleDateString(),m=function(){var e=Object(W.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("/note",{id:n._id},"DELETE");case 2:(t=e.sent).ok?(a((function(e){return e.filter((function(e){return e._id!==n._id}))})),o(null)):c(t.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(W.a)(q.a.mark((function e(){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("/note",{content:t},"POST");case 2:(n=e.sent).ok?(a((function(e){return e?[].concat(Object(ve.a)(e),[n.content]):[n.content]})),s(!0)):c(n.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(W.a)(q.a.mark((function e(){var r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("/note",{content:t,id:n._id},"PATCH");case 2:(r=e.sent).ok?(s(!0),a((function(e){return e.map((function(e){return e._id===n._id&&(e.content=t),e}))}))):c(r.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(W.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("note/unlink",{id:n._id,content:n.content},"PATCH");case 2:(t=e.sent).ok?(r((function(e){return e.filter((function(e){return e._id!==n._id}))})),o(null)):c(t.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)("div",{className:"top-panel",children:[Object($.jsxs)("div",{className:"upper-row",children:[Object($.jsxs)("div",{className:"buttons",children:[Object($.jsx)(Te,{title:"Close",Icon:Z.b,handleClick:function(){return o(null)}}),"new"!==n&&!x&&!u&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(Te,{title:"Edit note",Icon:Z.f,handleClick:function(){return l(!0)}}),Object($.jsx)(Te,{title:"Remove note",Icon:Z.l,handleClick:function(){return m()}}),Object($.jsx)(Te,{title:"Share note",Icon:Z.k,handleClick:function(){return f(!j)}})]}),x&&"new"!==n&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(Te,{title:"Unlink note",Icon:Z.m,handleClick:function(){return v()}}),Object($.jsx)("p",{title:"author",children:n.author})]}),null!==i&&Object($.jsx)(Te,{Icon:Z.e,handleClick:function(){return function(){if(t&&!i)if("new"===n)g();else{if(!u)return;w()}}()},color:i?"#4caf50":"#f44336"})]}),Object($.jsx)("div",{className:"date",children:O})]}),j&&n.author===p.username&&Object($.jsx)(ze,{note:n,setNotes:a})]})},Ie=Q.a.div(b||(b=Object(K.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: grid;\n    place-items: center;\n    z-index: 10;\n    font-size: ",";\n"])),ie()),Be=Q.a.div(j||(j=Object(K.a)(["\n    width: 55vw;\n    height: 60vh;\n    z-index: 10;\n    border-radius: 10px;\n    margin-inline: auto;\n    background-color: ",";\n    box-shadow: ",";\n    color: ",";\n    transition: 0.1s;\n    overflow: hidden;\n\n    @media screen and (max-width: 1000px) {\n        width: 95vw;\n    }\n\n    .top-panel {\n        padding: 10px;\n        display: flex;\n        flex-direction: column;\n        box-shadow: ",";\n        gap: 10px;\n\n        .upper-row {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n        }\n\n        .buttons {\n            display: flex;\n            flex-direction: row;\n            align-items: center;\n            font-size: 20px;\n            gap: 10px;\n        }\n    }\n\n    .content {\n        height: calc(100% - 50px);\n        padding-inline: 15px;\n        font-weight: 300;\n        padding-block: ",";\n        font-size: ",";\n        white-space: pre;\n        overflow-y: scroll;\n        overflow-x: hidden;\n    }\n\n    textarea {\n        background-color: transparent;\n        width: calc(100% - 20px);\n        margin-inline: 10px;\n        border-radius: 10px;\n        height: calc(100% - 60px);\n        outline: none;\n        padding: 10px;\n        font-weight: 300;\n        font-size: ",";\n        border: none;\n\n        color: ",";\n    }\n"])),(function(e){return e.theme.uiColor}),(function(e){return e.theme.shadow}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.shadow}),ie(),ie(),ie(),(function(e){return e.theme.fontColor})),De=function(e){var n=e.note,t=e.setNoteToFocus,r=e.setNotes,o=e.setSharedNotes,c=Object(R.useState)(n.content||""),a=Object(G.a)(c,2),i=a[0],s=a[1],u=Object(R.useState)(""),l=Object(G.a)(u,2),d=l[0],b=l[1],j=Object(R.useContext)(ee).theme,f=Object(R.useState)(null),p=Object(G.a)(f,2),h=p[0],x=p[1],O=Object(R.useState)(!1),m=Object(G.a)(O,2),g=m[0],w=m[1],v=function(e){"Escape"===e.code&&t(null)};return Object(R.useEffect)((function(){return document.addEventListener("keyup",v),function(){return document.removeEventListener("keyup",v)}}),[g]),Object($.jsxs)(Ie,{children:[Object($.jsx)(ue,{content:d,setContent:b}),Object($.jsx)(me,{setSomething:t,valueToSet:g&&n,children:Object($.jsxs)(Be,{theme:j,children:[Object($.jsx)(Ee,{note:n,isSaved:h,setNoteToFocus:t,setAlertContent:b,content:i,setNotes:r,setIsSaved:x,setSharedNotes:o,isEditing:g,setIsEditing:w}),"new"===n||g?Object($.jsx)("textarea",{autoComplete:"off",autoFocus:"on",value:i,onChange:function(e){s(e.target.value),x(!1)}}):Object($.jsx)("div",{className:"content",children:n.content})]})})]})},Ae=function(e){var n=e.isVisible,t=e.children,r=e.start,o=e.end,c=Object(ae.useTransition)(n,{from:Object(ge.a)(Object(ge.a)({},r),{},{opacity:0,position:"absolute"}),enter:Object(ge.a)(Object(ge.a)({},o),{},{opacity:1,position:"static"}),leave:Object(ge.a)(Object(ge.a)({},r),{},{opacity:0,position:"absolute"})});return Object($.jsx)($.Fragment,{children:c((function(e,n){return n&&Object($.jsx)(ae.animated.div,{style:e,children:t})}))})},Le=Q.a.div(f||(f=Object(K.a)(["\n    border-radius: 9999px;\n    height: calc(1.5 * ",");\n    aspect-ratio: 2/1;\n    position: relative;\n    transition: 0.3s;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    box-sizing: content-box;\n    cursor: pointer;    \n\n\n    &::after {\n        content: '';\n        width: calc(1.5 * ",");\n        aspect-ratio: 1/1;\n        border-radius: 50%;\n        transition: 0.3s;\n        display: inline-block;\n        \n        transform: ",";\n\n        background-color: ",";\n    }\n        \n    border: 3px solid ",";\n    background-color: ",";\n    box-shadow: ",";\n"])),ie(),ie(),(function(e){return"light"===e.theme.type?"translateX(100%)":""}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.bgColor}),(function(e){return e.theme.bgColor}),(function(e){return e.theme.shadow})),_e=Q.a.div(p||(p=Object(K.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    gap: 0 20px;\n    margin-block: 10px;\n\n    span {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 5px;\n    }\n"]))),Ue=function(){var e=Object(R.useContext)(ee),n=e.theme,t=e.setIsDarkTheme,r=Object(R.useState)(""),o=Object(G.a)(r,2),c=o[0],a=o[1],i=function(){var e=Object(W.a)(q.a.mark((function e(){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("/settings/theme",{},"PATCH");case 2:(n=e.sent).ok?t((function(e){return!e})):a(n.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ue,{content:c,setContent:a}),Object($.jsxs)(_e,{children:[Object($.jsx)("p",{children:"Theme:"}),Object($.jsxs)("span",{children:[Object($.jsx)(Z.i,{}),Object($.jsx)(Le,{theme:n,onClick:function(){return i()}}),Object($.jsx)(Z.c,{})]})]})]})},He=["name","text","type","content","setContent"],Ve=Q.a.div(h||(h=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n    text-align: left;\n"]))),Re=Q.a.label(x||(x=Object(K.a)(["\n        margin-bottom: 5px;\n        font-size: 1.2rem;\n"]))),Xe=Q.a.input(O||(O=Object(K.a)(["\n        border-radius: 5px;\n        border: none;\n        outline: none;\n        padding: 10px;\n        font-size: 1em;\n\n        color: inherit;\n        background-color: ",";\n        box-shadow: ","\n"])),(function(e){return e.theme.bgColor}),(function(e){return e.theme.shadow})),Ye=function(e){var n=e.name,t=e.text,r=e.type,o=void 0===r?"text":r,c=e.content,a=e.setContent,i=Object(we.a)(e,He),s=Object(R.useContext)(ee).theme;return Object($.jsxs)(Ve,{className:"input-field",children:[Object($.jsx)(Re,{htmlFor:n,children:t}),Object($.jsx)(Xe,Object(ge.a)({theme:s,type:o,id:n,value:c,onChange:function(e){return a(e.target.value)},spellCheck:"off",autoComplete:"off"},i)),Object($.jsx)("div",{className:"".concat(n," error hide")})]})},Je=Q.a.form(m||(m=Object(K.a)(["\n    width: 70%;\n    margin: 0 auto;\n    margin-bottom: 20px;\n"]))),Me=Q.a.button(g||(g=Object(K.a)(["\n    width: 50%;\n    background-color: #3f51b5;\n    color: #fafafa;\n    padding-block: 10px;\n    aspect-ratio: 20/3;\n    border: none;\n    outline: none;\n    margin-top: 10px;\n    margin-bottom: 5px;\n    font-size: calc(0.9 * ",");\n    box-shadow: ","\n"])),ie(),(function(e){return e.theme.shadow})),qe=function(e){var n=e.children,t=e.handleSubmit,r=e.setShowForm,o=Object(R.useContext)(ee).theme;return Object($.jsx)(me,{setSomething:r,children:Object($.jsxs)(Je,{onSubmit:function(e){return t(e)},children:[n,Object($.jsx)(Me,{className:"clickable",theme:o,children:"Confirm"}),Object($.jsx)("div",{className:"res error hide"})]})})},We=Q.a.button(w||(w=Object(K.a)(["\n    width: 100%;\n    aspect-ratio: 20/3;\n    font-size: ",";\n    outline: none;\n    border: none;\n    color: #fafafa;    \n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 5px;\n    margin-block: 15px;\n    font-weight: 500;\n\n    background-color: ",";\n    box-shadow: ",";\n"])),ie(),(function(e){return e.color}),(function(e){return e.theme.shadow})),Ge=function(){var e=Object(R.useContext)(ee).theme,n=Object(R.useContext)(be),t=n.user,r=n.setUser,o=Object(R.useState)(!1),c=Object(G.a)(o,2),a=c[0],i=c[1],s=Object(R.useState)(!1),u=Object(G.a)(s,2),l=u[0],d=u[1],b=Object(R.useState)(""),j=Object(G.a)(b,2),f=j[0],p=j[1],h=Object(R.useState)(""),x=Object(G.a)(h,2),O=x[0],m=x[1],g=Object(R.useState)(""),w=Object(G.a)(g,2),v=w[0],k=w[1];return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(We,{color:"#03a9f4",theme:e,className:"clickable",onClick:function(){return t.encryption?d((function(e){return!e})):i((function(e){return!e}))},children:[t.encryption?"Change PIN":"Turn on encryption"," ",Object($.jsx)(Z.h,{})]}),a&&Object($.jsx)(qe,{setShowForm:i,handleSubmit:function(e){e.preventDefault(),ye({pin:f})||de("/settings/start-encryption",{pin:f},"PATCH").then((function(e){e.ok?(r((function(e){return e.encryption=!0,e})),i(!1)):Ce("pin",e.error)}))},children:Object($.jsx)(Ye,{name:"pin",text:"PIN to encrypt files",type:"password",content:f,setContent:p})}),l&&Object($.jsxs)(qe,{setShowForm:d,handleSubmit:function(e){e.preventDefault(),ye({currentPin:O,newPin:v})||de("/settings/change-pin",{currentPin:O,newPin:v},"PATCH").then((function(e){e.ok?d(!1):Ce("res",e.error)}))},children:[Object($.jsx)(Ye,{name:"currentPin",text:"Current PIN",type:"password",content:O,setContent:m}),Object($.jsx)(Ye,{name:"newPin",text:"New PIN",type:"password",content:v,setContent:k})]})]})},Ke=Q.a.button(v||(v=Object(K.a)(["\n    width: 100%;\n    aspect-ratio: 20/3;\n    font-size: ",";\n    outline: none;\n    border: none;\n    color: #fafafa;    \n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 5px;\n    margin-block: 15px;\n    font-weight: 500;\n\n    background-color: ",";\n    box-shadow: ",";\n"])),ie(),(function(e){return e.color}),(function(e){return e.theme.shadow})),Qe=function(){var e=Object(R.useContext)(ee).theme,n=Object(R.useState)(!1),t=Object(G.a)(n,2),r=t[0],o=t[1],c=Object(R.useState)(""),a=Object(G.a)(c,2),i=a[0],s=a[1],u=Object(R.useState)(""),l=Object(G.a)(u,2),d=l[0],b=l[1],j=function(){var e=Object(W.a)(q.a.mark((function e(n){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!ye({currentPassword:i,newPassword:d})){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,de("/settings/change-password",{currentPassword:i,newPassword:d},"PATCH");case 5:(t=e.sent).ok?o(!1):Ce("res",t.error);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(Ke,{color:"#03a9f4",theme:e,className:"clickable",onClick:function(){return o(!r)},children:["Change password ",Object($.jsx)(Z.h,{})]}),r&&Object($.jsxs)(qe,{setShowForm:o,handleSubmit:j,children:[Object($.jsx)(Ye,{name:"currentPassword",text:"Current password",type:"password",content:i,setContent:s}),Object($.jsx)(Ye,{name:"newPassword",text:"New password",type:"password",content:d,setContent:b})]})]})},Ze=Q.a.div(k||(k=Object(K.a)(["\n    position: fixed;\n    left: 20px;\n    bottom:  20px;\n"]))),$e=Q.a.button(C||(C=Object(K.a)(["\n    background-color: ",";\n    box-shadow: ",";\n    border: none;\n    outline: none;\n    border-radius: 50%;\n    width: 50px;\n    aspect-ratio: 1/1;\n    margin-top: 15px;\n"])),(function(e){return e.theme.uiColor}),(function(e){return e.theme.shadow})),en=Q.a.div(y||(y=Object(K.a)(["\n    width: 300px;\n    border-radius: 20px;\n    font-weight: 300;\n    text-align: center;\n    overflow: hidden;\n\n    @media screen and (max-width: 450px) {\n        width: 90vw;\n    }\n\n    h3 {\n        font-size: calc(1.4 * ",")\n    }\n\n    p {\n        font-size: ",";\n        font-weight: 500;\n    }\n\n    background-color: ",";\n    color: ",";\n    box-shadow: ",";\n"])),ie(),ie(),(function(e){return e.theme.uiColor}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.shadow})),nn=Q.a.button(S||(S=Object(K.a)(["\n    width: 100%;\n    aspect-ratio: 20/3;\n    font-size: ",";\n    outline: none;\n    border: none;\n    color: #fafafa;    \n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 5px;\n    margin-block: 15px;\n    font-weight: 500;\n\n    background-color: ",";\n    box-shadow: ",";\n"])),ie(),(function(e){return e.color}),(function(e){return e.theme.shadow})),tn=Q.a.div(N||(N=Object(K.a)(["\n    width: 100%;\n    box-shadow: ",";\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    padding: 8px;\n\n    p {\n        font-size: 23px !important;\n        font-weight: 300;\n    }\n"])),(function(e){return e.theme.shadow})),rn=function(){var e=Object(R.useContext)(ee).theme,n=Object(R.useContext)(be),t=n.setUser,r=n.user,o=Object(R.useState)(!1),c=Object(G.a)(o,2),a=c[0],i=c[1],s=function(){var e=Object(W.a)(q.a.mark((function e(){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("/user/logout");case 2:(n=e.sent).ok?t(null):console.error(n.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)(Ze,{children:[Object($.jsx)(Ae,{isVisible:a,start:{y:200},end:{y:0},children:Object($.jsx)(me,{setSomething:i,children:Object($.jsxs)(en,{theme:e,children:[Object($.jsx)(tn,{theme:e,children:Object($.jsx)("p",{children:r.username})}),Object($.jsxs)("div",{style:{padding:"10px 20px"},children:[Object($.jsx)(Ue,{}),Object($.jsx)(Qe,{}),Object($.jsx)(Ge,{}),Object($.jsx)(nn,{onClick:function(){return s()},color:"#f44336",theme:e,className:"clickable",children:"Logout"})]})]})})}),Object($.jsx)($e,{theme:e,onClick:function(){return i(!a)},className:"clickable",children:Object($.jsx)(Z.g,{color:e.fontColor,size:"30px"})})]})},on=Q.a.div(P||(P=Object(K.a)(["\n    z-index: 10;\n    border-radius: 10px;\n    margin-inline: auto;\n    background-color: ",";\n    box-shadow: ",";\n    color: ",";\n    transition: 0.1s;\n    overflow: hidden;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    width: 400px;\n    padding: 20px 40px;\n    text-align: center;\n\n    @media screen and (max-width: 700px) {\n        width: 95vw;\n    }\n\n    h2 {\n        font-weight: 300;\n    }\n"])),(function(e){return e.theme.uiColor}),(function(e){return e.theme.shadow}),(function(e){return e.theme.fontColor})),cn=Q.a.button(z||(z=Object(K.a)(["\n    width: 70%;\n    aspect-ratio: 20/3;\n    background-color: #03a9f4;\n    color: #fafafa;\n    box-shadow: ",";\n    outline: none;\n    border:none;\n    margin-top: 30px;\n    padding-block: 10px;\n"])),(function(e){return e.theme.shadow})),an=function(e){var n=e.setNotes,t=e.setSharedNotes,r=e.setShowPinForm,o=Object(R.useContext)(ee).theme,c=Object(R.useState)(""),a=Object(G.a)(c,2),i=a[0],s=a[1],u=function(){var e=Object(W.a)(q.a.mark((function e(o){var c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.preventDefault(),!ye({pin:i})){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,de("/user/notes",{pin:i});case 5:(c=e.sent).ok?(n(c.content.userNotes),t(c.content.sharedNotes),r(!1)):Ce("pin",c.error);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object($.jsxs)(on,{theme:o,children:[Object($.jsx)("h2",{children:"Enter your PIN"}),Object($.jsxs)("form",{onSubmit:function(e){return u(e)},children:[Object($.jsx)(Ye,{name:"pin",type:"password",content:i,setContent:s,autoFocus:!0}),Object($.jsx)(cn,{className:"clickable",children:" Decrypt data "})]})]})},sn=Q.a.div(F||(F=Object(K.a)(["\n    padding: 0 10px;\n    transition: 0.2s;\n    color: ",";\n"])),(function(e){return e.theme.fontColor})),un=Q.a.div(T||(T=Object(K.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    gap: 20px;\n    padding-top: 15px;\n\n    p {\n        font-size: 20px;\n    }\n"])),function(){var e=window.innerWidth;return e>1500?"1fr 1fr 1fr 1fr":e>1e3?"1fr 1fr 1fr":"1fr 1fr"}()),ln=Q.a.div(E||(E=Object(K.a)(["\n    width: 100%;\n    margin-top: 20px;\n    text-align: left;\n    border-bottom: 2px solid ",";\n    opacity: 0.7;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n\n    p {\n    font-weight: 500;\n    font-size: 25px;\n    }\n"])),(function(e){return e.theme.fontColor})),dn=function(){var e=Object(R.useContext)(ee).theme,n=Object(R.useContext)(be).user,t=Object(R.useState)(null),r=Object(G.a)(t,2),o=r[0],c=r[1],a=new Array(8).fill("loading"),i=Object(R.useState)(a),s=Object(G.a)(i,2),u=s[0],l=s[1],d=Object(R.useState)([]),b=Object(G.a)(d,2),j=b[0],f=b[1],p=Object(R.useState)(n.encryption),h=Object(G.a)(p,2),x=h[0],O=h[1],m=Object(R.useState)(""),g=Object(G.a)(m,2),w=g[0],v=g[1];return Object(R.useEffect)((function(){n.encryption||Object(W.a)(q.a.mark((function e(){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("/user/notes",{});case 2:(n=e.sent).ok?l(n.content.userNotes):v(n.error);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object($.jsxs)($.Fragment,{children:[x&&Object($.jsx)(an,{setNotes:l,setSharedNotes:f,setShowPinForm:O}),o&&Object($.jsx)(De,{setNoteToFocus:c,note:o,setNotes:l,setSharedNotes:f}),Object($.jsx)(ue,{content:w,setContent:v}),Object($.jsxs)(sn,{theme:e,style:{filter:"".concat(x||o?"blur(5px)":"")},children:[Object($.jsxs)(ln,{theme:e,children:[Object($.jsx)("p",{children:"Your notes"}),Object($.jsx)(Z.j,{size:"30px",onClick:function(){return c("new")},className:"clickable"})]}),Object($.jsx)(un,{children:0!==u.length?Object($.jsx)($.Fragment,{children:u.map((function(e){return Object($.jsx)(Oe,{setNoteToFocus:c,data:e},e._id||Math.random())}))}):Object($.jsx)("p",{children:"Add your first note!"})}),0!==j.length&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ln,{theme:e,children:Object($.jsx)("p",{children:"Shared notes"})}),Object($.jsx)(un,{children:j.map((function(e){return Object($.jsx)(Oe,{setNoteToFocus:c,data:e},e._id||Math.random())}))})]})]}),Object($.jsx)(rn,{})]})},bn=Q.a.div(I||(I=Object(K.a)(["\n    margin-top: 10px;\n"]))),jn=Q.a.input(B||(B=Object(K.a)(["\n    display: none;\n"]))),fn=Q.a.label(D||(D=Object(K.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n"]))),pn=Q.a.div(A||(A=Object(K.a)(["\n    display: grid;\n    position: relative;\n    place-items: center;\n    width: 20px;\n    height: 20px;\n    background-color: ",";\n    box-shadow: ",";\n    border-radius: 3px;\n"])),(function(e){return e.theme.bgColor}),(function(e){return"light"===e.theme.type&&e.theme.shadow})),hn=Q.a.p(L||(L=Object(K.a)(["\n    display: inline-block;\n"]))),xn=function(e){var n=e.name,t=e.text,r=e.isChecked,o=e.setIsChecked,c=Object(R.useContext)(ee).theme;return Object($.jsxs)(bn,{children:[Object($.jsx)(jn,{value:r,onChange:function(){return o(!r)},type:"checkbox",id:n}),Object($.jsxs)(fn,{IconCheck:Z.d,isChecked:r,theme:c,htmlFor:n,children:[Object($.jsx)(pn,{theme:c,children:r&&Object($.jsx)(Z.d,{size:"100%",color:c.fontColor})}),Object($.jsx)(hn,{children:t})]})]})},On=Q.a.form(_||(_=Object(K.a)(["\n        position: relative;\n        overflow: hidden;\n        width: 100%;\n        padding: 0 30px;\n\n        p {\n            margin-top: 5px;\n        }\n"]))),mn=Q.a.button(U||(U=Object(K.a)(["\n        background-color: #2196f3;\n        color: #fafafa;\n        margin-top: 15px;\n        outline: none;\n        border: none;\n        padding: 10px 30px;\n        font-size: 1em;\n        border-radius: 5px;\n"]))),gn=function(e){var n=e.action,t=Object(R.useContext)(be).setUser,r=Object(R.useState)(""),o=Object(G.a)(r,2),c=o[0],a=o[1],i=Object(R.useState)(""),s=Object(G.a)(i,2),u=s[0],l=s[1],d=Object(R.useState)(!1),b=Object(G.a)(d,2),j=b[0],f=b[1],p=function(){var e=Object(W.a)(q.a.mark((function e(n){var r,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!ye({login:c,password:u})){e.next=3;break}return e.abrupt("return");case 3:return r={login:c,password:u,dontLogout:j},e.next=6,de("/auth/login",r);case 6:(o=e.sent).ok?t(o.content):Ce("res",o.error);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object($.jsx)(On,{onSubmit:function(e){return p(e)},children:Object($.jsxs)(Ae,{start:{x:-300},end:{x:0},isVisible:"login"===n,children:[Object($.jsx)(Ye,{name:"login",text:"Login",content:c,setContent:a}),Object($.jsx)(Ye,{name:"password",text:"Password",type:"password",content:u,setContent:l}),Object($.jsx)(xn,{name:"expiring",text:"Don't logout",isChecked:j,setIsChecked:f}),Object($.jsx)(mn,{className:"clickable",children:"Confirm"}),Object($.jsx)("div",{className:"error res hide"})]})})},wn=function(e){var n=e.action,t=Object(R.useContext)(be).setUser,r=Object(R.useState)(""),o=Object(G.a)(r,2),c=o[0],a=o[1],i=Object(R.useState)(""),s=Object(G.a)(i,2),u=s[0],l=s[1],d=Object(R.useState)(""),b=Object(G.a)(d,2),j=b[0],f=b[1],p=function(){var e=Object(W.a)(q.a.mark((function e(n){var r,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!ye({username:c,password:u,repeatPassword:j})){e.next=3;break}return e.abrupt("return");case 3:if(u===j){e.next=9;break}return Ce("password","Password and second password must be the same"),Ce("repeatPassword","Password and second password must be the same"),e.abrupt("return");case 9:ke("password"),ke("repeatPassword");case 11:return r={username:c,password:u},e.next=14,de("/auth/signup",r);case 14:(o=e.sent).ok?t(o.content):Ce("res",o.error);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object($.jsx)(On,{onSubmit:function(e){return p(e)},children:Object($.jsxs)(Ae,{start:{x:300},end:{x:0},isVisible:"signup"===n,children:[Object($.jsx)(Ye,{name:"username",text:"Username",content:c,setContent:a}),Object($.jsx)(Ye,{name:"password",text:"Password",type:"password",content:u,setContent:l}),Object($.jsx)(Ye,{name:"repeatPassword",text:"Repeat password",type:"password",content:j,setContent:f}),Object($.jsx)(mn,{className:"clickable",children:"Confirm"}),Object($.jsx)("div",{className:"error res hide"})]})})},vn=function(e){var n=e.action,t=Object(R.useState)(""),r=Object(G.a)(t,2),o=r[0],c=r[1],a=Object(R.useState)(""),i=Object(G.a)(a,2),s=i[0],u=i[1],l=Object(R.useContext)(be).setUser,d=function(){var e=Object(W.a)(q.a.mark((function e(n){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,de("/auth/signup",{password:o});case 3:(t=e.sent).ok?l(t.content):Ce("res",t.error);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object($.jsx)(On,{onSubmit:function(e){return d(e)},children:Object($.jsxs)(Ae,{start:{x:300},end:{x:0},isVisible:"try"===n,children:[Object($.jsx)("p",{children:"Use app without entering any personal data."}),Object($.jsx)(Ye,{name:"password",text:"Password",type:"password",content:o,setContent:c}),Object($.jsx)(Ye,{name:"repeatPassword",text:"Repeat password",type:"password",content:s,setContent:u}),Object($.jsx)(mn,{className:"clickable",children:"Confirm"}),Object($.jsx)("div",{className:"error res hide"})]})})},kn=Q.a.div(H||(H=Object(K.a)(["\n    transform: translateX(-50%) translateY(-50%);\n    padding: 20px 10px;\n    font-size: 18px;\n    border-radius: 10px;\n    transition: 0.3s;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 400px;\n\n    @media screen and (max-width: 700px) {\n        width: 95vw;\n    }\n    \n    color: ",";\n    background-color: ",";\n    box-shadow: ",";\n\n    h2 {\n        font-size: 2rem;\n    }\n"])),(function(e){return e.theme.fontColor}),(function(e){return e.theme.uiColor}),(function(e){return e.theme.shadow})),Cn=Q.a.div(V||(V=Object(K.a)(["\n    width: 70%;\n    height: 40px;\n    border-radius: 1000px;\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n    justify-content: space-around;\n    box-shadow: ",";\n    margin-top: 10px;\n    overflow: hidden;\n\n    p {\n        flex-grow: 1;\n        display: grid;\n        place-items: center;\n        transition: 0.3s;\n\n        &:not(.active) {\n            border: 2px solid ",";\n        }\n    }\n\n    .active {\n        color: #fafafa;\n        background-color:#2196f3;\n    }\n"])),(function(e){return e.theme.shadow}),(function(e){return e.theme.uiColor})),yn=function(){var e=Object(R.useContext)(ee).theme,n=Object(R.useState)("login"),t=Object(G.a)(n,2),r=t[0],o=t[1];return Object($.jsx)($.Fragment,{children:Object($.jsxs)(kn,{theme:e,children:[Object($.jsxs)(Cn,{theme:e,children:[Object($.jsx)("p",{onClick:function(){return o("login")},className:"clickable ".concat("login"===r?"active":""),children:"Login"}),Object($.jsx)("p",{onClick:function(){return o("signup")},className:"clickable ".concat("signup"===r?"active":""),children:"Sign Up"}),Object($.jsx)("p",{onClick:function(){return o("try")},className:"clickable ".concat("try"===r?"active":""),children:"Try"})]}),Object($.jsx)(gn,{action:r}),Object($.jsx)(wn,{action:r}),Object($.jsx)(vn,{action:r})]})})},Sn=function(){var e=Object(R.useContext)(be).user;return Object($.jsx)($.Fragment,{children:e?Object($.jsx)(dn,{}):Object($.jsx)(yn,{})})},Nn=function(){return Object($.jsx)(re,{children:Object($.jsx)(je,{children:Object($.jsx)(Sn,{})})})};J.a.render(Object($.jsx)(X.a.StrictMode,{children:Object($.jsx)(Nn,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.592539fb.chunk.js.map