(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,n,t){},48:function(e,n,t){"use strict";t.r(n);var r,o,c,a,i,s,u,l,d,b,j,f,p,h,x,O,m,w,g,v,k,C,y,S,N,P,T,z,F,E,_,B,D,A,I=t(0),L=t.n(I),U=t(23),H=t.n(U),R=(t(43),t(4)),V=t.n(R),W=t(7),X=t(3),Y=t(5),J=t(6),K=t(9),M=t(2),q=Object(I.createContext)(null),G={type:"dark",fontColor:"#fafafa",bgColor:"#212121",uiColor:"#424242",shadow:"0 0 3px #616161"},Q={type:"light",fontColor:"#424242",bgColor:"#fafafa",uiColor:"#eeeeee",shadow:"0 0 10px -5px #212121"},Z=function(e){var n=e.children,t=Object(I.useState)(Q),r=Object(X.a)(t,2),o=r[0],c=r[1],a=Object(I.useState)(!1),i=Object(X.a)(a,2),s=i[0],u=i[1];return Object(I.useEffect)((function(){return document.body.style.backgroundColor=o.bgColor}),[o]),Object(I.useEffect)((function(){return c(s?G:Q)}),[s]),Object(M.jsx)(q.Provider,{value:{theme:o,setIsDarkTheme:u},children:n})},$=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,ee=function(){var e=Object(W.a)(V.a.mark((function e(n,t){var r,o,c,a,i,s,u=arguments;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:"POST",console.log($),e.prev=2,!t){e.next=9;break}return e.next=6,fetch($+n,{method:r,credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},cors:"same-origin"});case 6:o=e.sent,e.next=12;break;case 9:return e.next=11,fetch($+n,{credentials:"include",cors:"same-origin"});case 11:o=e.sent;case 12:return c=o.ok,e.next=15,o.json();case 15:if(a=e.sent,i=a.content,s=a.error,!o.ok){e.next=22;break}return e.abrupt("return",{content:i,ok:c});case 22:return e.abrupt("return",{error:s,ok:c});case 23:e.next=28;break;case 25:return e.prev=25,e.t0=e.catch(2),e.abrupt("return",{ok:!1,error:"Can't connect to the server"});case 28:case"end":return e.stop()}}),e,null,[[2,25]])})));return function(n,t){return e.apply(this,arguments)}}(),ne=J.a.div(r||(r=Object(Y.a)(["\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    width: 20rem;\n    aspect-ratio: 1/1;\n    border-radius: 50%;\n\n    * {\n        border-radius: 50%;\n        background-color: ",";\n        border: 0.5rem solid transparent;\n        animation: rotate infinite linear;\n        animation-duration: 8s;\n        margin: 0;\n        padding: 0;\n        width: 100%;\n        height: 100%;\n        box-sizing:border-box;\n    }\n\n    .inlineBorders {\n        border-inline-color: ",";\n    }\n\n    .blockBorders {\n        border-block-color: ",";\n    }\n\n    @keyframes rotate {\n        from { transform: rotate(0); }\n        to { transform: rotate(360deg); }\n    }   \n"])),(function(e){return e.theme.bgColor}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.fontColor})),te=function(){var e=Object(I.useContext)(q).theme;return Object(M.jsx)(ne,{theme:e,children:Object(M.jsx)("div",{className:"blockBorders",children:Object(M.jsx)("div",{className:"inlineBorders",children:Object(M.jsx)("div",{className:"blockBorders",children:Object(M.jsx)("div",{className:"inlineBorders",children:Object(M.jsx)("div",{className:"blockBorders",children:Object(M.jsx)("div",{className:"inlineBorders",children:Object(M.jsx)("div",{className:"blockBorders",children:Object(M.jsx)("div",{className:"inlineBorders",children:Object(M.jsx)("div",{className:"blockBorders",children:Object(M.jsx)("div",{className:"inlineBorders",children:Object(M.jsx)("div",{className:"blockBorders",children:Object(M.jsx)("div",{className:"inlineBorders",children:Object(M.jsx)("div",{className:"blockBorders",children:Object(M.jsx)("div",{className:"inlineBorders",children:Object(M.jsx)("div",{className:"blockBorders",children:Object(M.jsx)("div",{className:"inlineBorders",children:Object(M.jsx)("div",{className:"blockBorders",children:Object(M.jsx)("div",{className:"inlineBorders",children:Object(M.jsx)("div",{className:"blockBorders",children:Object(M.jsx)("div",{className:"inlineBorders"})})})})})})})})})})})})})})})})})})})})})},re=t(19),oe=function(){var e=window.innerWidth;return e>1400?"18px":e>1200?"17px":"16px"},ce=J.a.div(o||(o=Object(Y.a)(["\n    position: absolute;\n    bottom: 20px;\n    right: 20px;\n    width: 300px;\n    aspect-ratio: 20/4;\n    background-color: #1e88e5 ;\n    z-index: 100;\n    border-radius: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n    color: #fafafa;\n    box-shadow: ",";\n    gap: 5px;\n    font-size: ",";\n"])),(function(e){return e.theme.shadow}),oe()),ae=function(e){var n=e.content,t=e.setContent,r=Object(I.useContext)(q).theme,o=Object(I.useState)(!1),c=Object(X.a)(o,2),a=c[0],i=c[1];Object(I.useEffect)((function(){return document.addEventListener("click",(function(){return t("")})),function(){return document.removeEventListener("click",(function(){return t("")}))}})),Object(I.useEffect)((function(){return i(!!n)}),[n]);var s=Object(re.useTransition)(a,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});return Object(M.jsx)(M.Fragment,{children:s((function(e,t){return t&&Object(M.jsx)(re.animated.div,{style:e,children:Object(M.jsxs)(ce,{theme:r,children:[Object(M.jsx)("p",{children:n})," ",Object(M.jsx)(K.a,{})]})})}))})},ie=Object(I.createContext)(null),se=function(e){var n=e.children,t=Object(I.useState)(null),r=Object(X.a)(t,2),o=r[0],c=r[1],a=Object(I.useState)(!0),i=Object(X.a)(a,2),s=i[0],u=i[1],l=Object(I.useContext)(q).setIsDarkTheme,d=Object(I.useState)(""),b=Object(X.a)(d,2),j=b[0],f=b[1];return Object(I.useEffect)((function(){Object(W.a)(V.a.mark((function e(){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/verify");case 2:(n=e.sent).ok?(c(n.content),u(!1)):f(n.error);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(I.useEffect)((function(){return o&&l("light"!==o.theme)}),[o]),Object(M.jsxs)(ie.Provider,{value:{user:o,setUser:c},children:[Object(M.jsx)(ae,{content:j,setContent:f}),s?Object(M.jsx)(te,{}):Object(M.jsx)(M.Fragment,{children:n})]})},ue=J.a.div(c||(c=Object(Y.a)(["\n    border-radius: 10px;\n    padding-block: calc(0.1 * ",");\n    padding-inline: calc(0.5 * ",");\n    max-height: 150px;\n    white-space: pre;\n    line-height: 1.7rem;\n    max-height: 8rem;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 4;\n    display: inline-block;\n    overflow: hidden !important;\n    text-overflow: ellipsis;\n    font-weight: 300;\n    color: inherit;\n    border: 5px solid ",";\n    background-color: ",";\n    box-shadow: ",";\n\n    .date {\n        font-size: calc(0.8 * ",");\n        margin: 0;\n        height: 10px;\n    } \n\n    .content {\n        font-size: calc(0.9* ",");\n        margin-top: ",";\n    }\n"])),oe(),oe(),(function(e){return e.theme.uiColor}),(function(e){return e.theme.uiColor}),(function(e){return e.theme.shadow}),oe,oe(),oe()),le=J.a.div(a||(a=Object(Y.a)(["\n    height: calc(0.8 *  ",");\n    width: 70px;\n    display: inline-block;\n    border-radius: 10px;\n    position: relative;\n    overflow: hidden;\n    background-color: ",";\n"])),oe(),(function(e){return e.theme.bgColor})),de=J.a.div(i||(i=Object(Y.a)(["\n    height: calc(4 *  ",");\n    width: 100%;\n    border-radius: 10px;\n    margin-top: 5px;\n    position: relative;\n    overflow: hidden;\n    background-color: ",";\n"])),oe(),(function(e){return e.theme.bgColor})),be=J.a.div(s||(s=Object(Y.a)(["\n    position: absolute;\n    height: 10%;\n    left: -10%;\n    top: 0;\n    width: 100%;\n    opacity: 0.5;\n    filter: blur(30px);\n    transform: rotate(-10deg);\n    animation: loadAnimation 1s linear infinite;\n    background-color: ",";\n\n    @keyframes loadAnimation {\n        from {\n            top: -100%;\n        }\n        to {\n           top: 200%;\n        }\n    }\n"])),(function(e){return e.theme.fontColor})),je=function(e){var n=e.setNoteToFocus,t=e.data,r=Object(I.useContext)(q).theme,o=t.updatedAt,c=t.content,a=Object(I.useState)(!0),i=Object(X.a)(a,2),s=i[0],u=i[1];Object(I.useEffect)((function(){"loading"!==t&&u(!1)}),[]);var l=new Date(o).toLocaleDateString();return Object(M.jsx)(ue,{theme:r,className:s?"":"clickable",onClick:function(){return!s&&n(t)},children:s?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(le,{theme:r,children:Object(M.jsx)(be,{theme:r})}),Object(M.jsx)(de,{theme:r,children:Object(M.jsx)(be,{theme:r})})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"date",children:l}),Object(M.jsx)("div",{className:"content",children:c})]})})},fe=t(16),pe=t(27),he=t(15),xe=function(e){var n=e.children,t=e.setSomething,r=e.valueToSet,o=void 0!==r&&r,c=Object(I.useRef)(null),a=function(e){c.current&&(c.current.contains(e.target)||t(o))};return Object(I.useEffect)((function(){return document.addEventListener("click",a),function(){return document.removeEventListener("click",a)}}),[]),Object(M.jsx)("span",{ref:c,children:n})},Oe=function(e){return document.querySelector(".input-field .error.".concat(e)).classList.add("hide")},me=function(e,n){var t=document.querySelector(".error.".concat(e));t.textContent=n,t.classList.remove("hide")},we=function(e){var n=!1;for(var t in e){e[t]?Oe(t):(me(t,"Oops, you have to fill this field"),n=!0)}return n},ge=J.a.div(u||(u=Object(Y.a)(["\n    display: flex;\n    flex-direction: row; \n    align-items: center;    \n    gap: 5px;\n"]))),ve=J.a.p(l||(l=Object(Y.a)(["\n    background-color: ",";\n    color: ",";\n    padding: 3px 10px;\n    border-radius: 100px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: 5px;\n    cursor: pointer;\n    font-size: 15px;\n"])),(function(e){return e.theme.fontColor}),(function(e){return e.theme.bgColor})),ke=J.a.input(d||(d=Object(Y.a)(["\n    background-color: transparent;\n    border: none;\n    outline: none;\n    font-size: 16px;\n    transition: 0.3s;\n\n    /* &:focus {\n        border-bottom: 1px solid ",";\n    } */\n"])),(function(e){return e.theme.fontColor})),Ce=function(e){var n=e.note,t=e.setNotes,r=Object(I.useContext)(q).theme,o=Object(I.useState)(""),c=Object(X.a)(o,2),a=c[0],i=c[1],s=n._id,u=n.content,l=function(){var e=Object(W.a)(V.a.mark((function e(r){var o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,ee("/share-note",{id:s,content:u,recipient:a},"PATCH");case 3:(o=e.sent).ok?(n.recipients=o.content,t((function(e){return e.map((function(e){return e._id===s?n:e}))}))):me("res",o.error);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=Object(W.a)(V.a.mark((function e(r){var o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/unlink-note",{recipientToUnlink:r,id:s,content:u},"PATCH");case 2:(o=e.sent).ok?(n.recipients=o.content,t((function(e){return e.map((function(e){return e._id,e}))}))):me("res",o.error);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(M.jsxs)(ge,{theme:r,children:[Object(M.jsx)("p",{children:"Users with access: "}),n.recipients.map((function(e){return Object(M.jsxs)(ve,{className:"clickable",title:"unlink ".concat(e),theme:r,onClick:function(n){return d(e)},children:[e," ",Object(M.jsx)(K.l,{size:"15"})]},e)})),Object(M.jsxs)("form",{onSubmit:function(e){return l(e)},children:[Object(M.jsx)(ke,{value:a,onChange:function(e){return i(e.target.value)},theme:r,type:"text",placeholder:"share to..."}),Object(M.jsx)("div",{className:"error res"})]})]})},ye=["handleClick","Icon","title"],Se=J.a.div(b||(b=Object(Y.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: grid;\n    place-items: center;\n    z-index: 10;\n    font-size: ",";\n"])),oe()),Ne=J.a.div(j||(j=Object(Y.a)(["\n    width: 55vw;\n    height: 60vh;\n    z-index: 10;\n    border-radius: 10px;\n    margin-inline: auto;\n    background-color: ",";\n    box-shadow: ",";\n    color: ",";\n    transition: 0.1s;\n    overflow: hidden;\n\n    @media screen and (max-width: 1000px) {\n        width: 95vw;\n    }\n\n    .top-panel {\n        padding: 10px;\n        display: flex;\n        flex-direction: column;\n        box-shadow: ",";\n        gap: 10px;\n        \n        .upper-row {\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n        }\n\n        .buttons {\n            display: flex;\n            flex-direction: row;\n            align-items: center;\n            font-size: 20px;\n            gap: 10px;\n        }\n    }\n\n    .content {\n        height: calc(100% - 50px); \n        padding-inline: 15px;\n        font-weight: 300;\n        padding-block: ",";\n        font-size: ",";\n        white-space: pre;\n        overflow-y: scroll;\n        overflow-x: hidden;\n    }\n\n    textarea {\n        background-color: transparent;\n        width: calc(100% - 20px);\n        margin-inline: 10px;\n        border-radius: 10px;\n        height: calc(100% - 60px);\n        outline: none;\n        padding: 10px;\n        font-weight: 300;\n        font-size: ",";\n        border: none;\n\n        color: ","\n}\n"])),(function(e){return e.theme.uiColor}),(function(e){return e.theme.shadow}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.shadow}),oe(),oe(),oe(),(function(e){return e.theme.fontColor})),Pe=function(e){var n=e.handleClick,t=e.Icon,r=e.title,o=Object(pe.a)(e,ye);return Object(M.jsx)("div",{title:r,children:Object(M.jsx)(t,Object(fe.a)({onClick:n,size:"30px",stroke:"1",className:"clickable"},o))})},Te=function(e){var n=e.note,t=e.setNoteToFocus,r=e.setNotes,o=e.setSharedNotes,c=Object(I.useContext)(q).theme,a=Object(I.useContext)(ie).user,i=Object(I.useState)(n.content||""),s=Object(X.a)(i,2),u=s[0],l=s[1],d=Object(I.useState)(""),b=Object(X.a)(d,2),j=b[0],f=b[1],p=Object(I.useState)(null),h=Object(X.a)(p,2),x=h[0],O=h[1],m=Object(I.useState)(!1),w=Object(X.a)(m,2),g=w[0],v=w[1],k=Object(I.useState)(n.author!==a.username),C=Object(X.a)(k,1)[0],y=Object(I.useState)(!1),S=Object(X.a)(y,2),N=S[0],P=S[1],T=n.updatedAt?new Date(n.updatedAt).toLocaleDateString():(new Date).toLocaleDateString(),z=function(){var e=Object(W.a)(V.a.mark((function e(){var o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/note",{id:n._id},"DELETE");case 2:(o=e.sent).ok?(r((function(e){return e.filter((function(e){return e._id!==n._id}))})),t(null)):f(o.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(W.a)(V.a.mark((function e(){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/note",{content:u},"POST");case 2:(n=e.sent).ok?(r((function(e){return e?[].concat(Object(he.a)(e),[n.content]):[n.content]})),O(!0)):f(n.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(W.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/note",{content:u,id:n._id},"PATCH");case 2:(t=e.sent).ok?(O(!0),r((function(e){return e.map((function(e){return e._id===n._id&&(e.content=u),e}))}))):f(t.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(W.a)(V.a.mark((function e(){var r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/unlink-note",{id:n._id,content:n.content},"PATCH");case 2:(r=e.sent).ok?(o((function(e){return e.filter((function(e){return e._id!==n._id}))})),t(null)):f(r.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(Se,{children:[Object(M.jsx)(ae,{content:j,setContent:f}),Object(M.jsx)(xe,{setSomething:t,children:Object(M.jsxs)(Ne,{theme:c,children:[Object(M.jsxs)("div",{className:"top-panel",children:[Object(M.jsxs)("div",{className:"upper-row",children:[Object(M.jsxs)("div",{className:"buttons",children:[Object(M.jsx)(Pe,{title:"Close",Icon:K.b,handleClick:function(){return t(null)}}),"new"!==n&&!C&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Pe,{title:"Edit note",Icon:K.e,handleClick:function(){return v(!0)}}),Object(M.jsx)(Pe,{title:"Remove note",Icon:K.k,handleClick:function(){return z()}}),Object(M.jsx)(Pe,{title:"Share note",Icon:K.j,handleClick:function(){return P(!N)}})]}),C&&"new"!==n&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Pe,{title:"Unlink note",Icon:K.l,handleClick:function(){return _()}}),Object(M.jsx)("p",{title:"author",children:n.author})]}),null!==x&&Object(M.jsx)(Pe,{Icon:K.d,handleClick:function(){return function(){if(u&&!x)if("new"===n)F();else{if(!g)return;E()}}()},color:x?"#4caf50":"#f44336"})]}),Object(M.jsx)("div",{className:"date",children:T})]}),N&&n.author===a.username&&Object(M.jsx)(Ce,{note:n,setNotes:r})]}),"new"===n||g?Object(M.jsx)("textarea",{autoComplete:"off",autoFocus:"on",value:u,onChange:function(e){l(e.target.value),O(!1)}}):Object(M.jsx)("div",{className:"content",children:n.content})]})})]})},ze=function(e){var n=e.isVisible,t=e.children,r=e.start,o=e.end,c=Object(re.useTransition)(n,{from:Object(fe.a)(Object(fe.a)({},r),{},{opacity:0,position:"absolute"}),enter:Object(fe.a)(Object(fe.a)({},o),{},{opacity:1,position:"static"}),leave:Object(fe.a)(Object(fe.a)({},r),{},{opacity:0,position:"absolute"})});return Object(M.jsx)(M.Fragment,{children:c((function(e,n){return n&&Object(M.jsx)(re.animated.div,{style:e,children:t})}))})},Fe=J.a.div(f||(f=Object(Y.a)(["\n    border-radius: 9999px;\n    height: calc(1.5 * ",");\n    aspect-ratio: 2/1;\n    position: relative;\n    transition: 0.3s;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    box-sizing: content-box;\n    cursor: pointer;    \n\n\n    &::after {\n        content: '';\n        width: calc(1.5 * ",");\n        aspect-ratio: 1/1;\n        border-radius: 50%;\n        transition: 0.3s;\n        display: inline-block;\n        \n        transform: ",";\n\n        background-color: ",";\n    }\n        \n    border: 3px solid ",";\n    background-color: ",";\n    box-shadow: ",";\n"])),oe(),oe(),(function(e){return"light"===e.theme.type?"translateX(100%)":""}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.bgColor}),(function(e){return e.theme.bgColor}),(function(e){return e.theme.shadow})),Ee=J.a.div(p||(p=Object(Y.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    gap: 0 20px;\n    margin-block: 10px;\n\n    span {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 5px;\n    }\n"]))),_e=function(){var e=Object(I.useContext)(q),n=e.theme,t=e.setIsDarkTheme,r=Object(I.useState)(""),o=Object(X.a)(r,2),c=o[0],a=o[1],i=function(){var e=Object(W.a)(V.a.mark((function e(){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/theme",{},"PATCH");case 2:(n=e.sent).ok?t((function(e){return!e})):a(n.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ae,{content:c,setContent:a}),Object(M.jsxs)(Ee,{children:[Object(M.jsx)("p",{children:"Theme:"}),Object(M.jsxs)("span",{children:[Object(M.jsx)(K.h,{}),Object(M.jsx)(Fe,{theme:n,onClick:function(){return i()}}),Object(M.jsx)(K.c,{})]})]})]})},Be=["name","text","type","content","setContent"],De=J.a.div(h||(h=Object(Y.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n    text-align: left;\n"]))),Ae=J.a.label(x||(x=Object(Y.a)(["\n        margin-bottom: 5px;\n        font-size: 1.2rem;\n"]))),Ie=J.a.input(O||(O=Object(Y.a)(["\n        border-radius: 5px;\n        border: none;\n        outline: none;\n        padding: 10px;\n        font-size: 1em;\n\n        color: inherit;\n        background-color: ",";\n        box-shadow: ","\n"])),(function(e){return e.theme.bgColor}),(function(e){return e.theme.shadow})),Le=function(e){var n=e.name,t=e.text,r=e.type,o=void 0===r?"text":r,c=e.content,a=e.setContent,i=Object(pe.a)(e,Be),s=Object(I.useContext)(q).theme;return Object(M.jsxs)(De,{className:"input-field",children:[Object(M.jsx)(Ae,{htmlFor:n,children:t}),Object(M.jsx)(Ie,Object(fe.a)({theme:s,type:o,id:n,value:c,onChange:function(e){return a(e.target.value)},spellCheck:"off",autoComplete:"off"},i)),Object(M.jsx)("div",{className:"".concat(n," error hide")})]})},Ue=J.a.form(m||(m=Object(Y.a)(["\n    width: 70%;\n    margin: 0 auto;\n    margin-bottom: 20px;\n"]))),He=J.a.button(w||(w=Object(Y.a)(["\n    width: 50%;\n    background-color: #3f51b5;\n    color: #fafafa;\n    padding-block: 10px;\n    aspect-ratio: 20/3;\n    border: none;\n    outline: none;\n    margin-top: 10px;\n    margin-bottom: 5px;\n    font-size: calc(0.9 * ",");\n    box-shadow: ","\n"])),oe(),(function(e){return e.theme.shadow})),Re=function(e){var n=e.children,t=e.handleSubmit,r=e.setShowForm,o=Object(I.useContext)(q).theme;return Object(M.jsx)(xe,{setSomething:r,children:Object(M.jsxs)(Ue,{onSubmit:function(e){return t(e)},children:[n,Object(M.jsx)(He,{className:"clickable",theme:o,children:"Confirm"}),Object(M.jsx)("div",{className:"res error hide"})]})})},Ve=J.a.button(g||(g=Object(Y.a)(["\n    width: 100%;\n    aspect-ratio: 20/3;\n    font-size: ",";\n    outline: none;\n    border: none;\n    color: #fafafa;    \n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 5px;\n    margin-block: 15px;\n    font-weight: 500;\n\n    background-color: ",";\n    box-shadow: ",";\n"])),oe(),(function(e){return e.color}),(function(e){return e.theme.shadow})),We=function(){var e=Object(I.useContext)(q).theme,n=Object(I.useContext)(ie),t=n.user,r=n.setUser,o=Object(I.useState)(!1),c=Object(X.a)(o,2),a=c[0],i=c[1],s=Object(I.useState)(!1),u=Object(X.a)(s,2),l=u[0],d=u[1],b=Object(I.useState)(""),j=Object(X.a)(b,2),f=j[0],p=j[1],h=Object(I.useState)(""),x=Object(X.a)(h,2),O=x[0],m=x[1],w=Object(I.useState)(""),g=Object(X.a)(w,2),v=g[0],k=g[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(Ve,{color:"#03a9f4",theme:e,className:"clickable",onClick:function(){return t.encryption?d((function(e){return!e})):i((function(e){return!e}))},children:[t.encryption?"Change PIN":"Turn on encryption"," ",Object(M.jsx)(K.g,{})]}),a&&Object(M.jsx)(Re,{setShowForm:i,handleSubmit:function(e){e.preventDefault(),we({pin:f})||ee("/start-encryption",{pin:f},"PATCH").then((function(e){e.ok?(r(e.content),i(!1)):me("pin",e.error)}))},children:Object(M.jsx)(Le,{name:"pin",text:"PIN to encrypt files",type:"password",content:f,setContent:p})}),l&&Object(M.jsxs)(Re,{setShowForm:d,handleSubmit:function(e){e.preventDefault(),we({currentPin:O,newPin:v})||ee("/change-pin",{currentPin:O,newPin:v},"PATCH").then((function(e){e.ok?d(!1):me("res",e.error)}))},children:[Object(M.jsx)(Le,{name:"currentPin",text:"Current PIN",type:"password",content:O,setContent:m}),Object(M.jsx)(Le,{name:"newPin",text:"New PIN",type:"password",content:v,setContent:k})]})]})},Xe=J.a.button(v||(v=Object(Y.a)(["\n    width: 100%;\n    aspect-ratio: 20/3;\n    font-size: ",";\n    outline: none;\n    border: none;\n    color: #fafafa;    \n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 5px;\n    margin-block: 15px;\n    font-weight: 500;\n\n    background-color: ",";\n    box-shadow: ",";\n"])),oe(),(function(e){return e.color}),(function(e){return e.theme.shadow})),Ye=function(){var e=Object(I.useContext)(q).theme,n=Object(I.useState)(!1),t=Object(X.a)(n,2),r=t[0],o=t[1],c=Object(I.useState)(""),a=Object(X.a)(c,2),i=a[0],s=a[1],u=Object(I.useState)(""),l=Object(X.a)(u,2),d=l[0],b=l[1],j=function(){var e=Object(W.a)(V.a.mark((function e(n){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!we({currentPassword:i,newPassword:d})){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ee("/change-password",{currentPassword:i,newPassword:d},"PATCH");case 5:(t=e.sent).ok?o(!1):me("res",t.error);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(Xe,{color:"#03a9f4",theme:e,className:"clickable",onClick:function(){return o(!r)},children:["Change password ",Object(M.jsx)(K.g,{})]}),r&&Object(M.jsxs)(Re,{setShowForm:o,handleSubmit:j,children:[Object(M.jsx)(Le,{name:"currentPassword",text:"Current password",type:"password",content:i,setContent:s}),Object(M.jsx)(Le,{name:"newPassword",text:"New password",type:"password",content:d,setContent:b})]})]})},Je=J.a.div(k||(k=Object(Y.a)(["\n    position: fixed;\n    left: 20px;\n    bottom:  20px;\n"]))),Ke=J.a.button(C||(C=Object(Y.a)(["\n    background-color: ",";\n    box-shadow: ",";\n    border: none;\n    outline: none;\n    border-radius: 50%;\n    width: 50px;\n    aspect-ratio: 1/1;\n    margin-top: 15px;\n"])),(function(e){return e.theme.uiColor}),(function(e){return e.theme.shadow})),Me=J.a.div(y||(y=Object(Y.a)(["\n    width: 300px;\n    border-radius: 20px;\n    font-weight: 300;\n    text-align: center;\n    overflow: hidden;\n\n    @media screen and (max-width: 1000px) {\n        width: 90vw;\n    }\n\n    h3 {\n        font-size: calc(1.4 * ",")\n    }\n\n    p {\n        font-size: ",";\n        font-weight: 500;\n    }\n\n    background-color: ",";\n    color: ",";\n    box-shadow: ",";\n"])),oe(),oe(),(function(e){return e.theme.uiColor}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.shadow})),qe=J.a.button(S||(S=Object(Y.a)(["\n    width: 100%;\n    aspect-ratio: 20/3;\n    font-size: ",";\n    outline: none;\n    border: none;\n    color: #fafafa;    \n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 5px;\n    margin-block: 15px;\n    font-weight: 500;\n\n    background-color: ",";\n    box-shadow: ",";\n"])),oe(),(function(e){return e.color}),(function(e){return e.theme.shadow})),Ge=J.a.div(N||(N=Object(Y.a)(["\n    width: 100%;\n    box-shadow: ",";\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    padding: 8px;\n\n    p {\n        font-size: 23px !important;\n        font-weight: 300;\n    }\n"])),(function(e){return e.theme.shadow})),Qe=function(){var e=Object(I.useContext)(q).theme,n=Object(I.useContext)(ie),t=n.setUser,r=n.user,o=Object(I.useState)(!1),c=Object(X.a)(o,2),a=c[0],i=c[1],s=function(){var e=Object(W.a)(V.a.mark((function e(){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/logout");case 2:(n=e.sent).ok?t(null):console.error(n.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(Je,{children:[Object(M.jsx)(ze,{isVisible:a,start:{y:200},end:{y:0},children:Object(M.jsx)(xe,{setSomething:i,children:Object(M.jsxs)(Me,{theme:e,children:[Object(M.jsx)(Ge,{theme:e,children:Object(M.jsx)("p",{children:r.username})}),Object(M.jsxs)("div",{style:{padding:"10px 20px"},children:[Object(M.jsx)(_e,{}),Object(M.jsx)(Ye,{}),Object(M.jsx)(We,{}),Object(M.jsx)(qe,{onClick:function(){return s()},color:"#f44336",theme:e,className:"clickable",children:"Logout"})]})]})})}),Object(M.jsx)(Ke,{theme:e,onClick:function(){return i(!a)},className:"clickable",children:Object(M.jsx)(K.f,{color:e.fontColor,size:"30px"})})]})},Ze=J.a.div(P||(P=Object(Y.a)(["\n    z-index: 10;\n    border-radius: 10px;\n    margin-inline: auto;\n    background-color: ",";\n    box-shadow: ",";\n    color: ",";\n    transition: 0.1s;\n    overflow: hidden;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    width: 400px;\n    padding: 20px 40px;\n    text-align: center;\n\n    @media screen and (max-width: 700px) {\n        width: 95vw;\n    }\n\n    h2 {\n        font-weight: 300;\n    }\n"])),(function(e){return e.theme.uiColor}),(function(e){return e.theme.shadow}),(function(e){return e.theme.fontColor})),$e=J.a.button(T||(T=Object(Y.a)(["\n    width: 70%;\n    aspect-ratio: 20/3;\n    background-color: #03a9f4;\n    color: #fafafa;\n    box-shadow: ",";\n    outline: none;\n    border:none;\n    margin-top: 30px;\n    padding-block: 10px;\n"])),(function(e){return e.theme.shadow})),en=function(e){var n=e.setNotes,t=e.setSharedNotes,r=e.setShowPinForm,o=Object(I.useContext)(q).theme,c=Object(I.useState)(""),a=Object(X.a)(c,2),i=a[0],s=a[1],u=function(){var e=Object(W.a)(V.a.mark((function e(o){var c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.preventDefault(),!we({pin:i})){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ee("/notes",{pin:i});case 5:(c=e.sent).ok?(n(c.content.userNotes),t(c.content.sharedNotes),r(!1)):me("pin",c.error);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(M.jsxs)(Ze,{theme:o,children:[Object(M.jsx)("h2",{children:"Enter your PIN"}),Object(M.jsxs)("form",{onSubmit:function(e){return u(e)},children:[Object(M.jsx)(Le,{name:"pin",type:"password",content:i,setContent:s,autoFocus:!0}),Object(M.jsx)($e,{className:"clickable",children:" Decrypt data "})]})]})},nn=J.a.div(z||(z=Object(Y.a)(["\n    padding: 0 10px;\n    transition: 0.2s;\n    color: ","\n"])),(function(e){return e.theme.fontColor})),tn=J.a.div(F||(F=Object(Y.a)(["\n    display: grid;\n    grid-template-columns: ",";\n    gap: 20px;\n    padding-top: 15px;\n\n    p {\n        font-size: 20px;\n    }\n"])),function(){var e=window.innerWidth;return e>1500?"1fr 1fr 1fr 1fr":e>1e3?"1fr 1fr 1fr":"1fr 1fr"}()),rn=J.a.div(E||(E=Object(Y.a)(["\n    width: 100%;\n    margin-top: 20px;\n    text-align: left;\n    border-bottom: 2px solid ",";\n    opacity: 0.7;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n\n    p {\n    font-weight: 500;\n    font-size: 25px;\n    }\n"])),(function(e){return e.theme.fontColor})),on=function(){var e=Object(I.useContext)(q).theme,n=Object(I.useContext)(ie).user,t=Object(I.useState)(null),r=Object(X.a)(t,2),o=r[0],c=r[1],a=new Array(8).fill("loading"),i=Object(I.useState)(a),s=Object(X.a)(i,2),u=s[0],l=s[1],d=Object(I.useState)([]),b=Object(X.a)(d,2),j=b[0],f=b[1],p=Object(I.useState)(n.encryption),h=Object(X.a)(p,2),x=h[0],O=h[1],m=Object(I.useState)(""),w=Object(X.a)(m,2),g=w[0],v=w[1];return Object(I.useEffect)((function(){n.encryption||Object(W.a)(V.a.mark((function e(){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/notes",{});case 2:(n=e.sent).ok?l(n.content.userNotes):v(n.error);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(M.jsxs)(M.Fragment,{children:[x&&Object(M.jsx)(en,{setNotes:l,setSharedNotes:f,setShowPinForm:O}),o&&Object(M.jsx)(Te,{setShowPinForm:O,setNoteToFocus:c,note:o,setNotes:l,setSharedNotes:f}),Object(M.jsx)(ae,{content:g,setContent:v}),Object(M.jsxs)(nn,{theme:e,style:{filter:"".concat(x||o?"blur(5px)":"")},children:[Object(M.jsxs)(rn,{theme:e,children:[Object(M.jsx)("p",{children:"Your notes"}),Object(M.jsx)(K.i,{size:"30px",onClick:function(){return c("new")},className:"clickable"})]}),Object(M.jsx)(tn,{children:0!==u.length?Object(M.jsx)(M.Fragment,{children:u.map((function(e){return Object(M.jsx)(je,{setNoteToFocus:c,data:e},e._id||Math.random())}))}):Object(M.jsx)("p",{children:"Add your first note!"})}),0!==j.length&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(rn,{theme:e,children:Object(M.jsx)("p",{children:"Shared notes"})}),Object(M.jsx)(tn,{children:j.map((function(e){return Object(M.jsx)(je,{setNoteToFocus:c,data:e},e._id||Math.random())}))})]})]}),Object(M.jsx)(Qe,{})]})},cn=J.a.form(_||(_=Object(Y.a)(["\n        position: relative;\n        overflow: hidden;\n        width: 100%;\n        padding: 0 30px;\n\n        p {\n            margin-top: 5px;\n        }\n"]))),an=J.a.button(B||(B=Object(Y.a)(["\n        background-color: #2196f3;\n        color: #fafafa;\n        margin-top: 15px;\n        outline: none;\n        border: none;\n        padding: 10px 30px;\n        font-size: 1em;\n        border-radius: 5px;\n"]))),sn=function(e){var n=e.action,t=Object(I.useContext)(ie).setUser,r=Object(I.useState)(""),o=Object(X.a)(r,2),c=o[0],a=o[1],i=Object(I.useState)(""),s=Object(X.a)(i,2),u=s[0],l=s[1],d=function(){var e=Object(W.a)(V.a.mark((function e(n){var r,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!we({login:c,password:u})){e.next=3;break}return e.abrupt("return");case 3:return r={login:c,password:u},e.next=6,ee("/login",r);case 6:(o=e.sent).ok?t(o.content):me("res",o.error);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(M.jsx)(cn,{onSubmit:function(e){return d(e)},children:Object(M.jsxs)(ze,{start:{x:-300},end:{x:0},isVisible:"login"===n,children:[Object(M.jsx)(Le,{name:"login",text:"Login",content:c,setContent:a}),Object(M.jsx)(Le,{name:"password",text:"Password",type:"password",content:u,setContent:l}),Object(M.jsx)(an,{className:"clickable",children:"Confirm"}),Object(M.jsx)("div",{className:"error res hide"})]})})},un=function(e){var n=e.action,t=Object(I.useContext)(ie).setUser,r=Object(I.useState)(""),o=Object(X.a)(r,2),c=o[0],a=o[1],i=Object(I.useState)(""),s=Object(X.a)(i,2),u=s[0],l=s[1],d=Object(I.useState)(""),b=Object(X.a)(d,2),j=b[0],f=b[1],p=function(){var e=Object(W.a)(V.a.mark((function e(n){var r,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!we({username:c,password:u,repeatPassword:j})){e.next=3;break}return e.abrupt("return");case 3:if(u===j){e.next=9;break}return me("password","Password and second password must be the same"),me("repeatPassword","Password and second password must be the same"),e.abrupt("return");case 9:Oe("password"),Oe("repeatPassword");case 11:return r={username:c,password:u},e.next=14,ee("/signup",r);case 14:(o=e.sent).ok?t(o.content):me("res",o.error);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(M.jsx)(cn,{onSubmit:function(e){return p(e)},children:Object(M.jsxs)(ze,{start:{x:300},end:{x:0},isVisible:"signup"===n,children:[Object(M.jsx)(Le,{name:"username",text:"Username",content:c,setContent:a}),Object(M.jsx)(Le,{name:"password",text:"Password",type:"password",content:u,setContent:l}),Object(M.jsx)(Le,{name:"repeatPassword",text:"Repeat password",type:"password",content:j,setContent:f}),Object(M.jsx)(an,{className:"clickable",children:"Confirm"}),Object(M.jsx)("div",{className:"error res hide"})]})})},ln=function(e){var n=e.action,t=Object(I.useState)(""),r=Object(X.a)(t,2),o=r[0],c=r[1],a=Object(I.useState)(""),i=Object(X.a)(a,2),s=i[0],u=i[1],l=Object(I.useContext)(ie).setUser,d=function(){var e=Object(W.a)(V.a.mark((function e(n){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,ee("/signup",{password:o});case 3:(t=e.sent).ok?l(t.content):me("res",t.error);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(M.jsx)(cn,{onSubmit:function(e){return d(e)},children:Object(M.jsxs)(ze,{start:{x:300},end:{x:0},isVisible:"try"===n,children:[Object(M.jsx)("p",{children:"Use app without entering any personal data."}),Object(M.jsx)(Le,{name:"password",text:"Password",type:"password",content:o,setContent:c}),Object(M.jsx)(Le,{name:"repeatPassword",text:"Repeat password",type:"password",content:s,setContent:u}),Object(M.jsx)(an,{className:"clickable",children:"Confirm"}),Object(M.jsx)("div",{className:"error res hide"})]})})},dn=J.a.div(D||(D=Object(Y.a)(["\n    transform: translateX(-50%) translateY(-50%);\n    padding: 20px 10px;\n    font-size: 18px;\n    border-radius: 10px;\n    transition: 0.3s;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 400px;\n\n    @media screen and (max-width: 700px) {\n        width: 95vw;\n    }\n    \n    color: ",";\n    background-color: ",";\n    box-shadow: ",";\n\n    h2 {\n        font-size: 2rem;\n    }\n"])),(function(e){return e.theme.fontColor}),(function(e){return e.theme.uiColor}),(function(e){return e.theme.shadow})),bn=J.a.div(A||(A=Object(Y.a)(["\n    width: 70%;\n    height: 40px;\n    border-radius: 1000px;\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n    justify-content: space-around;\n    box-shadow: ",";\n    margin-top: 10px;\n    overflow: hidden;\n\n    p {\n        flex-grow: 1;\n        display: grid;\n        place-items: center;\n        transition: 0.3s;\n\n        &:not(.active) {\n            border: 2px solid ",";\n        }\n    }\n\n    .active {\n        color: #fafafa;\n        background-color:#2196f3;\n    }\n"])),(function(e){return e.theme.shadow}),(function(e){return e.theme.uiColor})),jn=function(){var e=Object(I.useContext)(q).theme,n=Object(I.useState)("login"),t=Object(X.a)(n,2),r=t[0],o=t[1];return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(dn,{theme:e,children:[Object(M.jsxs)(bn,{theme:e,children:[Object(M.jsx)("p",{onClick:function(){return o("login")},className:"clickable ".concat("login"===r?"active":""),children:"Login"}),Object(M.jsx)("p",{onClick:function(){return o("signup")},className:"clickable ".concat("signup"===r?"active":""),children:"Sign Up"}),Object(M.jsx)("p",{onClick:function(){return o("try")},className:"clickable ".concat("try"===r?"active":""),children:"Try"})]}),Object(M.jsx)(sn,{action:r}),Object(M.jsx)(un,{action:r}),Object(M.jsx)(ln,{action:r})]})})},fn=function(){var e=Object(I.useContext)(ie).user;return Object(M.jsx)(M.Fragment,{children:e?Object(M.jsx)(on,{}):Object(M.jsx)(jn,{})})},pn=function(){return Object(M.jsx)(Z,{children:Object(M.jsx)(se,{children:Object(M.jsx)(fn,{})})})};H.a.render(Object(M.jsx)(L.a.StrictMode,{children:Object(M.jsx)(pn,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.c8b18db1.chunk.js.map